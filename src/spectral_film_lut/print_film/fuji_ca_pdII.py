from spectral_film_lut.film_spectral import *


class FujiCrystalArchiveProPDII(FilmSpectral):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

        self.density_measure = 'status_a'
        self.manufacturer = 'Fujifilm'
        self.stage = 'print'
        self.type = 'negative'
        self.medium = 'photo'
        self.comment = 'Could only find this one datasheet.\nIf anyone knows more let me know.'

        # spectral sensitivity
        red_log_sensitivity = {614.0714: 0.2897, 619.8672: 0.3492, 628.3422: 0.4124, 636.1705: 0.4488, 648.0589: 0.4687,
                               655.6927: 0.4842, 662.2082: 0.5159, 668.4708: 0.5843, 671.9085: 0.6366, 675.9361: 0.6995,
                               679.9070: 0.7685, 686.2887: 0.8909, 690.2313: 0.9610, 693.8618: 1.0253, 696.3294: 1.0667,
                               702.0683: 1.1426, 709.6886: 1.1865, 716.3597: 1.1495, 720.4100: 1.0778, 722.7925: 1.0001,
                               724.4943: 0.9437, }
        green_log_sensitivity = {442.3348: 0.4386, 447.4402: 0.5254, 451.3544: 0.5917, 455.6940: 0.6745,
                                 459.3529: 0.7386, 461.0547: 0.7754, 467.0110: 0.8766, 470.8117: 0.9414,
                                 475.9625: 1.0050, 480.9091: 1.0578, 487.0923: 1.1368, 489.8152: 1.2167,
                                 493.0486: 1.3000, 494.5803: 1.3503, 496.5657: 1.4295, 499.0050: 1.4926,
                                 501.9831: 1.5714, 510.8155: 1.6764, 516.7037: 1.6529, 522.2819: 1.6426,
                                 528.1058: 1.6960, 531.0556: 1.7661, 532.3604: 1.8046, 534.2323: 1.8615,
                                 538.5112: 1.9820, 539.3378: 2.0546, 542.5145: 2.1707, 544.6701: 2.2190,
                                 549.5486: 2.2391, 550.9100: 2.1925, 553.4060: 2.1075, 554.8809: 2.0270,
                                 555.8453: 1.9862, 557.7173: 1.8443, 559.0787: 1.7265, 560.0998: 1.6581,
                                 560.6671: 1.5874, 561.1209: 1.5288, 562.1420: 1.4641, 562.8227: 1.3848,
                                 564.9783: 1.1880, 565.5456: 1.1098, 566.9070: 1.0374, 566.9921: 0.9810,
                                 568.4387: 0.8279, 568.6088: 0.7564, 570.3106: 0.5547, 571.8423: 0.4081,
                                 573.3739: 0.2478, }
        blue_log_sensitivity = {377.3258: 1.2087, 380.3891: 1.3133, 383.1800: 1.3971, 385.7214: 1.4857,
                                390.5999: 1.6161, 392.9824: 1.6730, 396.6583: 1.7396, 400.7540: 1.8405,
                                407.0129: 1.9079, 417.3426: 1.9019, 425.5210: 1.9508, 430.4222: 2.0302,
                                434.8469: 2.1167, 440.3777: 2.2365, 445.7384: 2.3291, 450.0780: 2.3921,
                                455.0984: 2.4736, 462.2800: 2.5925, 465.7063: 2.6851, 468.0888: 2.7557,
                                471.6059: 2.8557, 479.7745: 2.9164, 483.3483: 2.8822, 486.7519: 2.7804,
                                488.2836: 2.7040, 490.0988: 2.5988, 491.5170: 2.5391, 493.0486: 2.4412,
                                494.2399: 2.3779, 496.5657: 2.1813, 497.9839: 2.0770, 499.3113: 1.9829,
                                500.5366: 1.8555, 501.5577: 1.7834, 502.5787: 1.6831, 504.9613: 1.4526,
                                506.1525: 1.3521, 508.7053: 1.1650, 509.8114: 1.0637, 511.2580: 0.9568,
                                513.8787: 0.7958, 515.5125: 0.7262, 518.0652: 0.6159, 520.1641: 0.5357,
                                522.3197: 0.4478, }
        self.log_sensitivity = [red_log_sensitivity, green_log_sensitivity, blue_log_sensitivity]

        # sensiometry
        red_curve = {0.6569: 0.1224, 0.7192: 0.1231, 0.7815: 0.1275, 0.8438: 0.1333, 0.9060: 0.1418, 0.9683: 0.1531,
                     1.0306: 0.1672, 1.0929: 0.1855, 1.1552: 0.2074, 1.2175: 0.2336, 1.2779: 0.2620, 1.3129: 0.2778,
                     1.4183: 0.3523, 1.5294: 0.4599, 1.6601: 0.6393, 1.7141: 0.7519, 1.7607: 0.8688, 1.7860: 0.9421,
                     1.8132: 1.0065, 1.8327: 1.0837, 1.8522: 1.1483, 1.8642: 1.2121, 1.8794: 1.2921, 1.8911: 1.3320,
                     1.9297: 1.5461, 1.9641: 1.7418, 1.9722: 1.7435, 2.0421: 2.0444, 2.0605: 2.1060, 2.0819: 2.1693,
                     2.1072: 2.2371, 2.1364: 2.3035, 2.1695: 2.3693, 2.2084: 2.4345, 2.2518: 2.4949, 2.3077: 2.5605,
                     2.3700: 2.6180, 2.4323: 2.6642, 2.4871: 2.6959, 2.5569: 2.7291, 2.6192: 2.7514, 2.6815: 2.7687,
                     2.7438: 2.7811, 2.8061: 2.7899, 2.8684: 2.7953, 2.9248: 2.7964, }
        green_curve = {0.6569: 0.1477, 0.7192: 0.1497, 0.7795: 0.1531, 0.8308: 0.1580, 0.9060: 0.1676, 0.9528: 0.1751,
                       1.0473: 0.1959, 1.1674: 0.2371, 1.2979: 0.2957, 1.4473: 0.3957, 1.6033: 0.5646, 1.7196: 0.7657,
                       1.7839: 0.9242, 1.8502: 1.1407, 1.8625: 1.1989, 1.8775: 1.2513, 1.9106: 1.3980, 1.9797: 1.7520,
                       2.0390: 1.9795, 2.0580: 2.0737, 2.0897: 2.1382, 2.1146: 2.1962, 2.1377: 2.2558, 2.1897: 2.3383,
                       2.2259: 2.3908, 2.2649: 2.4393, 2.3934: 2.5595, 2.4498: 2.5961, 2.5338: 2.6390, 2.6036: 2.6648,
                       2.6659: 2.6823, 2.7325: 2.6959, 2.7948: 2.7052, 2.8528: 2.7105, 2.9151: 2.7143, 2.9482: 2.7145, }
        blue_curve = {0.6569: 0.1477, 0.7192: 0.1502, 0.7795: 0.1531, 0.8308: 0.1580, 0.9060: 0.1674, 0.9683: 0.1789,
                      1.0273: 0.1900, 1.1390: 0.2201, 1.2449: 0.2607, 1.3546: 0.3183, 1.5290: 0.4618, 1.5796: 0.5250,
                      1.6205: 0.5841, 1.6614: 0.6494, 1.6964: 0.7164, 1.7276: 0.7823, 1.7548: 0.8486, 1.7782: 0.9071,
                      1.7996: 0.9762, 1.8191: 1.0386, 1.8385: 1.1153, 1.8561: 1.1780, 1.8758: 1.2491, 1.9359: 1.5117,
                      1.9660: 1.6263, 2.0371: 1.8554, 2.0838: 1.9672, 2.1383: 2.0733, 2.2104: 2.1768, 2.2921: 2.2650,
                      2.3895: 2.3414, 2.4985: 2.4004, 2.6114: 2.4427, 2.7301: 2.4716, 2.8508: 2.4868, 2.9657: 2.4930, }
        red_log_exposure = xp.array(list(red_curve.keys()), dtype=default_dtype)
        red_density_curve = xp.array(list(red_curve.values()), dtype=default_dtype)
        green_log_exposure = xp.array(list(green_curve.keys()), dtype=default_dtype)
        green_density_curve = xp.array(list(green_curve.values()), dtype=default_dtype)
        blue_log_exposure = xp.array(list(blue_curve.keys()), dtype=default_dtype)
        blue_density_curve = xp.array(list(blue_curve.values()), dtype=default_dtype)
        self.log_exposure = [red_log_exposure, green_log_exposure, blue_log_exposure]
        self.density_curve = [red_density_curve, green_density_curve, blue_density_curve]

        # spectral dye density
        red_sd = {383.9724: 0.0515, 390.9036: 0.0505, 397.8349: 0.0490, 402.7858: 0.0477, 448.6639: 0.0410,
                  455.5083: 0.0406, 462.5264: 0.0406, 469.4576: 0.0406, 476.3889: 0.0406, 483.3201: 0.0410,
                  490.2514: 0.0423, 497.1826: 0.0443, 504.1138: 0.0481, 511.0451: 0.0512, 517.6462: 0.0595,
                  536.7897: 0.1223, 543.7209: 0.1550, 550.3221: 0.1883, 556.2631: 0.2226, 561.7091: 0.2580,
                  566.6600: 0.2944, 571.1158: 0.3304, 575.0765: 0.3676, 577.3869: 0.3868, 585.9684: 0.4740,
                  589.4341: 0.5081, 592.8997: 0.5436, 596.3653: 0.5790, 599.8309: 0.6133, 601.5637: 0.6377,
                  604.2486: 0.6645, 608.2474: 0.7009, 611.7130: 0.7362, 615.1787: 0.7712, 618.6443: 0.8068,
                  622.2749: 0.8427, 626.0706: 0.8797, 630.0313: 0.9180, 634.8172: 0.9564, 641.0883: 0.9838,
                  648.0195: 0.9970, 654.9507: 0.9972, 661.8820: 0.9781, 668.3181: 0.9443, 673.9291: 0.9086,
                  678.8800: 0.8735, 683.5008: 0.8387, 687.9566: 0.8023, 692.4124: 0.7667, 696.7032: 0.7308,
                  700.9940: 0.6974, 705.6148: 0.6603, 709.9056: 0.6282, 715.3515: 0.5895, 719.6423: 0.5654, }
        green_sd = {383.4773: 0.0278, 388.7582: 0.0315, 391.7288: 0.0327, 405.2612: 0.0375, 408.6325: 0.0397,
                    441.3201: 0.0668, 446.9193: 0.0758, 450.7103: 0.0855, 456.3213: 0.0987, 460.2160: 0.1123,
                    467.7131: 0.1464, 477.6679: 0.2038, 482.1319: 0.2347, 485.7626: 0.2654, 490.1853: 0.3073,
                    502.1335: 0.4535, 504.4439: 0.4892, 506.4242: 0.5171, 508.0745: 0.5440, 510.0549: 0.5748,
                    512.0352: 0.6035, 514.6207: 0.6442, 516.4910: 0.6711, 518.8015: 0.7073, 520.9468: 0.7405,
                    522.9272: 0.7717, 524.7425: 0.7969, 526.8879: 0.8233, 529.1983: 0.8536, 532.1028: 0.8899,
                    534.5453: 0.9185, 538.1924: 0.9542, 545.0411: 0.9919, 549.5244: 0.9968, 554.6128: 0.9735,
                    557.6659: 0.9445, 559.8938: 0.9129, 561.8741: 0.8839, 564.1846: 0.8417, 565.6698: 0.8095,
                    567.6502: 0.7626, 569.7956: 0.7145, 571.9409: 0.6643, 574.0863: 0.6159, 575.7366: 0.5714,
                    577.7170: 0.5279, 579.4498: 0.4916, 580.3574: 0.4734, 584.3181: 0.3926, 586.3810: 0.3573,
                    588.2789: 0.3287, 590.5067: 0.2918, 592.8997: 0.2588, 597.3967: 0.2079, 599.8309: 0.1791,
                    602.4714: 0.1520, 606.9602: 0.1187, 612.9390: 0.0862, 619.4694: 0.0643, 630.8093: 0.0405,
                    638.2003: 0.0307, 699.8388: 0.0165, }
        blue_sd = {381.9370: 0.1283, 384.9626: 0.1573, 386.9429: 0.1793, 388.9893: 0.2057, 391.8278: 0.2425,
                   393.7091: 0.2652, 395.5245: 0.2941, 397.5048: 0.3235, 399.6502: 0.3544, 401.3005: 0.3889,
                   403.4459: 0.4272, 405.4262: 0.4671, 407.7366: 0.5146, 409.7170: 0.5603, 411.6973: 0.6090,
                   412.6875: 0.6226, 414.0078: 0.6608, 415.6580: 0.6990, 417.8034: 0.7450, 420.2789: 0.7892,
                   422.2592: 0.8190, 425.1637: 0.8633, 427.2101: 0.8864, 429.5205: 0.9152, 434.0863: 0.9549,
                   439.5873: 0.9840, 445.8584: 0.9978, 450.9997: 0.9925, 456.1138: 0.9670, 460.4635: 0.9328,
                   463.8466: 0.8985, 465.9920: 0.8720, 468.0274: 0.8462, 469.9527: 0.8137, 471.4380: 0.7919,
                   473.4184: 0.7585, 475.2337: 0.7278, 477.5441: 0.6902, 479.8545: 0.6515, 481.6698: 0.6210,
                   483.6502: 0.5843, 485.6305: 0.5495, 487.6109: 0.5133, 489.7563: 0.4808, 491.9017: 0.4460,
                   494.0470: 0.4125, 500.3182: 0.3203, 502.9586: 0.2861, 505.4341: 0.2558, 508.8997: 0.2187,
                   511.5402: 0.1916, 515.4018: 0.1600, 519.5441: 0.1306, 522.4321: 0.1126, 532.9527: 0.0745,
                   538.9801: 0.0570, 544.5460: 0.0456, 549.3649: 0.0380, 557.0883: 0.0296, 562.3692: 0.0268,
                   567.8977: 0.0251, 572.8321: 0.0249, 578.2781: 0.0231, 602.2651: 0.0202, 607.2572: 0.0182,
                   612.5382: 0.0182, 617.8191: 0.0182, 622.2749: 0.0182, 628.3810: 0.0174, 699.8388: 0.0165, }
        self.spectral_density = [colour.SpectralDistribution(x) for x in (red_sd, green_sd, blue_sd)]

        self.calibrate()
