from spectral_film_lut.film_spectral import *


class Kodak5222(FilmSpectral):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

        self.iso = 250
        self.density_measure = 'bw'
        self.exposure_kelvin = 5500
        self.projection_kelvin = None

        # spectral sensitivity
        self.log_sensitivity = [
            {400.4723: 1.9996, 407.7061: 2.0319, 415.8733: 2.0641, 426.6073: 2.0827, 439.7915: 2.0579, 450.2922: 2.0009,
             464.4097: 1.8955, 480.5108: 1.7417, 490.6614: 1.6413, 499.7620: 1.5718, 507.2291: 1.5197, 516.6797: 1.5036,
             525.0803: 1.5185, 535.5809: 1.5582, 549.3485: 1.6127, 561.7159: 1.6524, 573.8501: 1.6760, 584.1174: 1.6549,
             591.2345: 1.6264, 598.7017: 1.5991, 610.0190: 1.5731, 619.1196: 1.5879, 622.3865: 1.5954, 629.8536: 1.5532,
             633.3539: 1.4838, 646.3047: 0.9208, 649.8049: 0.7124, 661.5890: 0.0304, 669.7562: -0.4904}]

        # sensiometry - characteristic curve
        curve = {-2.9989: 0.2222, -2.8640: 0.2353, -2.7578: 0.2597, -2.6528: 0.2933, -2.5552: 0.3322, -2.4471: 0.3816,
                 -2.3548: 0.4278, -2.1344: 0.5602, -1.7240: 0.8113, -1.4071: 1.0214, -1.0744: 1.2452, -0.8015: 1.4259,
                 -0.5832: 1.5520, -0.4006: 1.6592}
        self.log_exposure = [np.array(list(curve.keys())), ]
        self.density_curve = [np.array(list(curve.values())), ]

        self.exposure_base = 10

        self.mtf = [{2.4775: 1.1175, 3.0088: 1.1880, 3.9729: 1.2330, 5.2912: 1.2151, 7.7660: 1.1707, 12.6234: 1.0838,
                     17.6382: 0.9888, 23.0617: 0.8566, 31.0944: 0.6934, 40.6554: 0.5315, 51.6104: 0.3925,
                     63.4554: 0.2961, 77.6361: 0.2198, 100.1441: 0.1545}]

        # curve from kodak 2303
        self.rms_curve = [
            {-0.0046: 0.0624, 0.3563: 0.0684, 0.6135: 0.0805, 0.7653: 0.0865, 0.8861: 0.1147, 1.0194: 0.1851,
             1.1278: 0.2615, 1.2239: 0.3501, 1.3029: 0.4708, 1.4284: 0.7001, 1.6050: 1.1146, 1.9101: 2.0802,
             2.1425: 2.8689, 2.2603: 3.2270, 2.3176: 3.4000}]
        self.rms_density = [
            {-0.0017: 0.0018, 0.1229: 0.0020, 0.2782: 0.0019, 0.4386: 0.0023, 0.6195: 0.0024, 0.7833: 0.0027,
             0.8840: 0.0033, 1.0273: 0.0040, 1.2235: 0.0050, 1.4352: 0.0070, 1.6109: 0.0090, 1.8362: 0.0114,
             2.0802: 0.0140, 2.2747: 0.0158, 2.4215: 0.0175, 2.5580: 0.0211}]
        self.rms = 14

        self.calibrate()
