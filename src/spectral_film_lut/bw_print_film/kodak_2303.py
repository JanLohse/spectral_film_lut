from spectral_film_lut.film_spectral import *


class Kodak2303(FilmSpectral):
    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)

        self.lad = 1.0
        self.density_measure = 'bw'
        self.exposure_kelvin = None
        self.projection_kelvin = None

        # spectral sensitivity
        self.log_sensitivity = {360.0806: 0.6957, 364.5161: 0.6640, 370.1613: 0.6047, 373.7903: 0.5534,
                                376.6129: 0.5099, 379.4355: 0.4111, 383.4677: 0.2925, 385.7863: 0.1897,
                                388.9113: -0.0474, 392.7419: -0.3715, 395.8669: -0.6601, 398.1855: -0.8735,
                                400.0000: -1.1107}

        # sensiometry - characteristic curve
        curve = {-0.9460: 0.0139, -0.5579: 0.0139, -0.2407: 0.0258, -0.0484: 0.0575, 0.0864: 0.0948, 0.2048: 0.1429,
                 0.2762: 0.1773, 0.3383: 0.2227, 0.4192: 0.2874, 0.5247: 0.3947, 0.6219: 0.5240, 0.7227: 0.6919,
                 0.7988: 0.8432, 0.8785: 1.0056, 0.9723: 1.2229, 1.0742: 1.4733, 1.1644: 1.7182, 1.2675: 1.9851,
                 1.3531: 2.2135, 1.4738: 2.5217, 1.5874: 2.7528, 1.6894: 3.0005, 1.7901: 3.2261, 1.8897: 3.4077,
                 1.9811: 3.5577, 2.0538: 3.6678}
        self.log_exposure = np.array(list(curve.keys()))
        self.density_curve = np.array(list(curve.values()))

        self.exposure_base = 10

        self.rms_curve = {-0.0046: 0.0624, 0.3563: 0.0684, 0.6135: 0.0805, 0.7653: 0.0865, 0.8861: 0.1147,
                          1.0194: 0.1851, 1.1278: 0.2615, 1.2239: 0.3501, 1.3029: 0.4708, 1.4284: 0.7001,
                          1.6050: 1.1146, 1.9101: 2.0802, 2.1425: 2.8689, 2.2603: 3.2270, 2.3176: 3.4000}
        self.rms_density = {-0.0017: 0.0018, 0.1229: 0.0020, 0.2782: 0.0019, 0.4386: 0.0023, 0.6195: 0.0024,
                            0.7833: 0.0027, 0.8840: 0.0033, 1.0273: 0.0040, 1.2235: 0.0050, 1.4352: 0.0070,
                            1.6109: 0.0090, 1.8362: 0.0114, 2.0802: 0.0140, 2.2747: 0.0158, 2.4215: 0.0175,
                            2.5580: 0.0211}

        self.calibrate()
