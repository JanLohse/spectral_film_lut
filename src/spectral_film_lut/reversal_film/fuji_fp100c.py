from spectral_film_lut.film_spectral import *


class FujiFP100C(FilmSpectral):
    def __init__(self):
        super().__init__()

        self.iso = 128
        self.density_measure = "status_a"
        self.manufacturer = 'Fujifilm'
        self.stage = 'camera'
        self.type = 'positive'
        self.medium = 'photo'
        self.year = 2002

        # spectral sensitivity
        red_log_sensitivity = {563.4631: 0.2896, 568.5559: 0.3486, 573.9033: 0.4028, 579.5054: 0.4597, 583.5797: 0.5302,
                               587.9085: 0.5954, 591.7281: 0.6545, 595.2931: 0.7114, 598.6034: 0.7665, 601.4044: 0.8215,
                               603.9508: 0.8768, 606.7519: 0.9338, 610.0622: 0.9946, 613.8818: 1.0510, 617.7014: 1.1039,
                               621.0117: 1.1628, 624.0674: 1.2240, 627.1231: 1.2861, 629.9241: 1.3446, 632.9798: 1.4062,
                               637.5633: 1.4580, 643.1654: 1.5074, 648.0035: 1.5089, 650.8046: 1.4331, 652.3324: 1.3456,
                               653.3510: 1.2822, 654.3695: 1.2208, 655.3881: 1.1568, 656.4066: 1.0856, 657.4252: 1.0142,
                               658.4438: 0.9433, 659.4623: 0.8722, 660.4809: 0.7952, 661.4994: 0.7163, 662.5180: 0.6355,
                               663.5366: 0.5540, 664.5551: 0.4712, 665.5737: 0.3884, 666.5922: 0.3037, 667.6108: 0.2099,
                               668.3747: 0.1620, }
        green_log_sensitivity = {495.7289: 0.2526, 500.1144: 0.3171, 504.1320: 0.3802, 507.6970: 0.4427,
                                 510.2434: 0.4986, 513.0444: 0.5566, 516.1001: 0.6187, 519.1558: 0.6747,
                                 522.2115: 0.7295, 525.5218: 0.7890, 528.8321: 0.8489, 531.6331: 0.9115,
                                 533.7430: 0.9751, 535.9620: 1.0391, 537.9991: 1.1031, 540.0363: 1.1678,
                                 542.0734: 1.2318, 544.1105: 1.2926, 546.1476: 1.3476, 548.4394: 1.4041,
                                 551.7497: 1.4653, 556.5878: 1.4973, 562.1899: 1.4743, 566.5188: 1.4245,
                                 568.8106: 1.3680, 570.2111: 1.2965, 570.8477: 1.2499, 571.8662: 1.1982,
                                 572.8848: 1.1335, 573.9033: 1.0649, 575.3746: 0.9813, 576.4497: 0.8955,
                                 577.4683: 0.8282, 578.4869: 0.7584, 579.5054: 0.6859, 580.5240: 0.6154,
                                 581.5425: 0.5435, 582.5611: 0.4647, 583.5797: 0.4013, 584.5982: 0.3334,
                                 585.6168: 0.2649, 586.8390: 0.1944, }
        blue_log_sensitivity = {392.8545: 1.1775, 395.9101: 1.2339, 399.4751: 1.2929, 404.3132: 1.3421,
                                409.9153: 1.3494, 415.0081: 1.3077, 420.1009: 1.2610, 425.7030: 1.2377,
                                431.3051: 1.2226, 436.9071: 1.2123, 442.5092: 1.2064, 448.1113: 1.2118,
                                453.7134: 1.2436, 458.2969: 1.3057, 461.3526: 1.3637, 463.8990: 1.4243,
                                466.7000: 1.4896, 471.1307: 1.5290, 475.6124: 1.4990, 478.6681: 1.4398,
                                481.2145: 1.3777, 483.5062: 1.3152, 485.2887: 1.2603, 486.8165: 1.2059,
                                488.3444: 1.1473, 489.8722: 1.0836, 491.4001: 1.0119, 492.6733: 0.9553,
                                493.6918: 0.8994, 494.7104: 0.8397, 495.7289: 0.7855, 496.7475: 0.7255,
                                497.7660: 0.6639, 498.7846: 0.6018, 500.0578: 0.5302, 501.0764: 0.4492,
                                503.0626: 0.3444, 502.0949: 0.3988, 505.1506: 0.2366, 507.1877: 0.1685, }
        self.log_sensitivity = [red_log_sensitivity, green_log_sensitivity, blue_log_sensitivity]

        # sensiometry
        red_curve = {-2.5811: 2.1441, -2.5151: 2.1398, -2.4633: 2.1390, -2.4187: 2.1390, -2.3476: 2.1390,
                     -2.2816: 2.1313, -2.2105: 2.1117, -2.1293: 2.0725, -2.0480: 2.0163, -1.9795: 1.9549,
                     -1.8919: 1.8539, -1.8360: 1.7849, -1.7967: 1.7274, -1.7497: 1.6558, -1.7142: 1.5996,
                     -1.6850: 1.5523, -1.6232: 1.4402, -1.5931: 1.3894, -1.5487: 1.3056, -1.5225: 1.2647,
                     -1.4552: 1.1420, -1.4336: 1.0998, -1.4032: 1.0423, -1.2966: 0.8591, -1.2509: 0.7864,
                     -1.1430: 0.6199, -1.1138: 0.5758, -0.9411: 0.3687, -0.8650: 0.3048, -0.8142: 0.2677,
                     -0.7110: 0.2030, -0.5705: 0.1476, -0.4435: 0.1220, -0.3775: 0.1194, -0.3191: 0.1169,
                     -0.2658: 0.1126, -0.1795: 0.1143, -0.1249: 0.1156, -0.0739: 0.1181, 0.0964: 0.1194, }
        green_curve = {-2.5840: 2.2208, -2.5405: 2.2208, -2.3814: 2.2208, -2.3044: 2.2131, -2.2460: 2.1969,
                       -2.1072: 2.1245, -2.0544: 2.0853, -1.9972: 2.0350, -1.9027: 1.9319, -1.8534: 1.8731,
                       -1.8178: 1.8237, -1.7814: 1.7696, -1.7294: 1.6929, -1.6913: 1.6347, -1.6596: 1.5855,
                       -1.6164: 1.5075, -1.5809: 1.4417, -1.5464: 1.3744, -1.5200: 1.3277, -1.4705: 1.2276,
                       -1.4336: 1.1467, -1.4083: 1.0934, -1.3905: 1.0525, -1.3412: 0.9559, -1.3067: 0.8862,
                       -1.2750: 0.8339, -1.2072: 0.7197, -1.1716: 0.6624, -1.1328: 0.6058, -1.0935: 0.5498,
                       -0.8452: 0.2828, -0.7888: 0.2422, -0.7421: 0.2130, -0.6403: 0.1655, -0.5967: 0.1510,
                       -0.5485: 0.1348, -0.3090: 0.1047, -0.1935: 0.1022, -0.0661: 0.1016, 0.0155: 0.1051,
                       0.0662: 0.1092, 0.0997: 0.1092, }
        blue_curve = {-2.5735: 2.2031, -2.4567: 2.1939, -2.3882: 2.1863, -2.3070: 2.1722, -2.2199: 2.1503,
                      -2.1546: 2.1211, -2.1166: 2.1019, -2.0525: 2.0578, -2.0023: 2.0163, -1.9198: 1.9334,
                      -1.8557: 1.8552, -1.7916: 1.7670, -1.7459: 1.6984, -1.7002: 1.6259, -1.6520: 1.5426,
                      -1.6037: 1.4547, -1.5606: 1.3746, -1.5174: 1.2948, -1.4768: 1.2136, -1.3854: 1.0419,
                      -1.2871: 0.8492, -1.2559: 0.7993, -1.1747: 0.6663, -1.1366: 0.6099, -1.0960: 0.5540,
                      -1.0549: 0.5003, -1.0224: 0.4611, -0.9270: 0.3546, -0.8618: 0.2947, -0.7888: 0.2330,
                      -0.7115: 0.1802, -0.6229: 0.1376, -0.5375: 0.1153, -0.4443: 0.1012, -0.3594: 0.0964,
                      -0.2929: 0.0922, -0.2531: 0.0897, -0.1823: 0.0902, -0.1206: 0.0888, -0.0678: 0.0894,
                      0.0236: 0.0917, 0.0921: 0.0939, }
        red_log_exposure = xp.array(list(red_curve.keys()), dtype=default_dtype)
        red_density_curve = xp.array(list(red_curve.values()), dtype=default_dtype)
        green_log_exposure = xp.array(list(green_curve.keys()), dtype=default_dtype)
        green_density_curve = xp.array(list(green_curve.values()), dtype=default_dtype)
        blue_log_exposure = xp.array(list(blue_curve.keys()), dtype=default_dtype)
        blue_density_curve = xp.array(list(blue_curve.values()), dtype=default_dtype)
        self.log_exposure = [red_log_exposure, green_log_exposure, blue_log_exposure]
        self.density_curve = [red_density_curve, green_density_curve, blue_density_curve]

        # spectral dye density
        red_sd = {387.9556: 0.1500, 396.3414: 0.1331, 404.9917: 0.1193, 412.9404: 0.1062, 421.5805: 0.0929,
                  429.8567: 0.0834, 439.3829: 0.0742, 447.6306: 0.0681, 455.5301: 0.0636, 463.6978: 0.0601,
                  473.5183: 0.0571, 481.2879: 0.0563, 488.1918: 0.0578, 497.4182: 0.0599, 504.5736: 0.0632,
                  513.3916: 0.0681, 522.1867: 0.0770, 530.6246: 0.0972, 538.2149: 0.1207, 545.6402: 0.1527,
                  553.4942: 0.1901, 560.5881: 0.2276, 566.9220: 0.2646, 573.0026: 0.3022, 578.8297: 0.3393,
                  583.6435: 0.3739, 587.4438: 0.4097, 591.9582: 0.4473, 596.5646: 0.4907, 601.3784: 0.5298,
                  606.1921: 0.5666, 611.2592: 0.6028, 616.8331: 0.6402, 622.4069: 0.6761, 627.7273: 0.7140,
                  632.5411: 0.7508, 637.3548: 0.7876, 642.4220: 0.8263, 649.0092: 0.8672, 654.5830: 0.8591,
                  657.3699: 0.8191, 659.9035: 0.7793, 662.4370: 0.7391, 664.9706: 0.6984, 667.5041: 0.6565,
                  670.0377: 0.6140, 672.5713: 0.5736, 675.1048: 0.5321, 677.6384: 0.4910, 680.1719: 0.4497,
                  682.7055: 0.4090, 685.2390: 0.3679, 687.7726: 0.3274, 690.3061: 0.2889, 693.0930: 0.2531,
                  696.3867: 0.2159, 699.9336: 0.1769, 703.7340: 0.1385, 708.2944: 0.1012, 714.8816: 0.0659,
                  722.4823: 0.0410, }
        green_sd = {384.7257: 0.1562, 392.2877: 0.1411, 400.7377: 0.1254, 408.7100: 0.1205, 416.9356: 0.1279,
                    424.7896: 0.1398, 433.2010: 0.1551, 441.2577: 0.1717, 449.3066: 0.1911, 457.4725: 0.2142,
                    464.5664: 0.2466, 470.3936: 0.2806, 476.2208: 0.3167, 482.3013: 0.3552, 488.1285: 0.3935,
                    493.1956: 0.4296, 496.9959: 0.4647, 500.2895: 0.5034, 507.3835: 0.5815, 511.1838: 0.6176,
                    515.2375: 0.6560, 519.5446: 0.6936, 524.1050: 0.7331, 528.4120: 0.7706, 532.9724: 0.8076,
                    539.5596: 0.8455, 547.6670: 0.8739, 555.6562: 0.8859, 563.6284: 0.8709, 569.7089: 0.8308,
                    574.0160: 0.7926, 577.8163: 0.7548, 581.1099: 0.7175, 583.6435: 0.6812, 585.4170: 0.6393,
                    586.9371: 0.6000, 588.4572: 0.5627, 589.9774: 0.5265, 591.4975: 0.4920, 596.8180: 0.3876,
                    599.0982: 0.3489, 601.6317: 0.3061, 604.4186: 0.2662, 607.4589: 0.2274, 611.0059: 0.1887,
                    615.3129: 0.1509, 621.6468: 0.1140, 629.7542: 0.0873, 637.8616: 0.0692, 645.9689: 0.0547,
                    654.0763: 0.0431, 662.1837: 0.0317, 670.4769: 0.0256, 678.3984: 0.0199, 686.5058: 0.0143,
                    694.6132: 0.0094, 702.7206: 0.0057, 710.8279: 0.0015, 718.9353: -0.0003, 725.7759: -0.0001, }
        blue_sd = {385.0128: 0.4024, 389.0665: 0.4402, 392.8668: 0.4790, 396.4138: 0.5176, 399.7074: 0.5529,
                   403.0011: 0.5898, 406.5480: 0.6288, 410.0950: 0.6669, 413.6420: 0.7055, 417.4423: 0.7433,
                   421.4960: 0.7828, 425.8030: 0.8204, 431.1235: 0.8595, 437.9979: 0.8913, 446.0715: 0.9139,
                   454.3478: 0.9246, 463.2321: 0.9226, 471.1537: 0.9036, 477.7409: 0.8708, 482.5547: 0.8337,
                   486.8617: 0.7980, 490.9154: 0.7611, 494.7157: 0.7222, 498.0094: 0.6827, 500.7963: 0.6434,
                   503.0765: 0.6016, 505.6791: 0.5499, 508.6503: 0.4930, 510.6771: 0.4533, 512.7040: 0.4165,
                   514.9842: 0.3763, 517.5177: 0.3333, 520.0513: 0.2908, 522.5848: 0.2506, 525.1184: 0.2136,
                   527.9053: 0.1754, 530.6922: 0.1409, 534.9992: 0.1018, 542.0932: 0.0595, 550.2006: 0.0349,
                   558.3079: 0.0218, 566.7411: 0.0142, 574.8846: 0.0106, 583.1173: 0.0101, 591.2442: 0.0116,
                   599.3515: 0.0142, 607.6109: 0.0166, 615.5663: 0.0196, 623.6737: 0.0221, 631.7810: 0.0246,
                   639.8884: 0.0274, 647.9958: 0.0297, 656.1032: 0.0333, 663.9910: 0.0304, 672.3179: 0.0243,
                   680.4253: 0.0181, 688.5326: 0.0131, 696.6400: 0.0088, 704.7474: 0.0050, 712.8548: 0.0013,
                   720.9621: -0.0003, 725.7759: 0.0003, }

        self.spectral_density = [colour.SpectralDistribution(x) for x in (red_sd, green_sd, blue_sd)]

        self.mtf = [{1.1569: 0.9978, 1.5077: 1.0076, 2.1657: 1.0512, 2.8841: 1.0884, 4.1877: 1.1429, 6.1467: 1.1924,
                     8.3195: 1.2159, 10.7838: 1.2186, 14.5171: 1.1668, 19.2285: 1.0627, 25.9414: 0.9010,
                     33.3721: 0.7314, 40.8485: 0.5835, 48.3522: 0.4675, 61.4669: 0.3324}]

        self.color_masking = 0.20

        self.calibrate(True)
